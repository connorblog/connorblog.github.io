
{% macro lightbox_img(img, width=800) -%}
<p markdown="1">
<br>
[![image]({static}/images/blank.png){:width={{ width }}px, data-echo={{ img }}}]({static}{{ img }} "{{ img }}"){class="mybox"}
</p>

{%- endmacro %}

{% macro link_img(img) -%}
<p markdown="1">
<br>
<a href="{{ img }}" target="_blank">
<img alt="{{ img }}" src="{{ img }}" title="{{ img }}">
</a>
</p>
{%- endmacro %}

{% macro lazy_link_img(img) -%}
<p markdown="1">
<br>
<a href="{{ img }}" target="_blank">
<img alt="{{ img }}" src="/images/blank.png" title="{{ img }}", data-echo={{ img }}>
</a>
</p>
{%- endmacro %}


<!-- 
NOTE: there is a bug with the interaction between shrinking images and lazyloading them,
where the image-process plugin won't fix the data-echo tag. My workaround is to manually
set data-echo={{ img_folder }}derivatives/article/{{ img_file }}, and also to set
src="{{ img_folder }}{{ img_file }}" for img processing, then switch it back to 
the preload one for usage.
-->
<!-- this one is for processing: -->
<!-- <img class="image-process-article" alt="{{ img_folder }}{{ img_file }}" src="{{ img_folder }}{{ img_file }}" title="{{ img_folder }}{{ img_file }}", data-echo={{ img_folder }}derivatives/article/{{ img_file }}> -->
<!-- this one is for using: -->
{% macro shrink_lazy_link_img(img_folder, img_file) -%}
<p markdown="1">
<br>
<a href="{{ img_folder }}{{ img_file }}" target="_blank">
<img alt="{{ img_folder }}{{ img_file }}" src="/images/blank.png" title="{{ img_folder }}{{ img_file }}", data-echo={{ img_folder }}derivatives/article/{{ img_file }}>
</a>
</p>
{%- endmacro %}



{% macro testlist(listinput) -%}

{% for item in  listinput  %}
<p> {{ item }} </p>
{% endfor %} 

{%- endmacro %}


{% macro test() -%}
<button markdown="1" class="collapsible">open collapsible</button> 
<p markdown="1">
<div markdown="1" class="content">
<p markdown="1">
{{ lightbox_img("/images/PXL_20220915_134845281.jpg", "caption goes here") }}
{{ lightbox_img("/images/PXL_20220912_142613545.jpg", "caption goes here") }}
</p>
</p>
</div>
{%- endmacro %}

<!-- old version of this: -->
<!-- [![image]({static}{{ img }}){:width=500px}]({static}{{ img }} "{{ caption }}"){class="mybox"} -->
